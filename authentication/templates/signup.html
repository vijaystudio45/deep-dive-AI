{% load static %}
<!DOCTYPE html>
<!--
Author: Keenthemes
Product Name: Saul
Product Version: 1.0.0
Upgrade to Pro: https://keenthemes.com/products/saul-html-pro
Website: http://www.keenthemes.com
Contact: support@keenthemes.com
Follow: www.twitter.com/keenthemes
Dribbble: www.dribbble.com/keenthemes
Like: www.facebook.com/keenthemes
License: For each use you must have a valid license purchased only from above link in order to legally use the theme for your project.
-->
<html lang="en">
	<!--begin::Head-->
	<head><base href="../../"/>
		<title>Social AI</title>
		<meta charset="utf-8" />
		<meta name="description" content="IPAMAS AI - Bootstrap 5 HTML Multipurpose Admin Dashboard Theme" />
		<meta name="keywords" content="Saul, bootstrap, bootstrap 5, dmin themes, free admin themes, bootstrap admin, bootstrap dashboard" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta property="og:locale" content="en_US" />
		<meta property="og:type" content="article" />
		<meta property="og:title" content="IPAMAS AI - Bootstrap 5 HTML Multipurpose Admin Dashboard Theme" />
		<meta property="og:url" content="https://keenthemes.com/products/saul-html-pro" />
		<meta property="og:site_name" content="Keenthemes | IPAMAS AI" />
		<link rel="canonical" href="https://preview.keenthemes.com/saul-html-free" />
		<link rel="shortcut icon" href={% static "assets/media/logos/favicon.ico" %} />
		<!--begin::Fonts(mandatory for all pages)-->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700" />
        <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
		<!--end::Fonts-->
		<!--begin::Global Stylesheets Bundle(mandatory for all pages)-->
		<link href={% static "assets/plugins/global/plugins.bundle.css" %} rel="stylesheet" type="text/css" />
		<link href={% static "assets/css/style.bundle.css" %} rel="stylesheet" type="text/css" />
		<!--end::Global Stylesheets Bundle-->
		<script>// Frame-busting to prevent site from being loaded within a frame without permission (click-jacking) if (window.top != window.self) { window.top.location.replace(window.self.location.href); }</script>
	</head>
	<!--end::Head-->
	<!--begin::Body-->
	<body id="kt_body" class="app-blank">
		<!--begin::Theme mode setup on page load-->
		<script>var defaultThemeMode = "light"; var themeMode; if ( document.documentElement ) { if ( document.documentElement.hasAttribute("data-bs-theme-mode")) { themeMode = document.documentElement.getAttribute("data-bs-theme-mode"); } else { if ( localStorage.getItem("data-bs-theme") !== null ) { themeMode = localStorage.getItem("data-bs-theme"); } else { themeMode = defaultThemeMode; } } if (themeMode === "system") { themeMode = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light"; } document.documentElement.setAttribute("data-bs-theme", themeMode); }</script>
		<!--end::Theme mode setup on page load-->
		<!--begin::Root-->
		<div class="d-flex flex-column flex-root" id="kt_app_root">
			<!--begin::Authentication - Sign-up -->
			<div class="d-flex flex-column flex-lg-row flex-column-fluid">
				<!--begin::Aside-->
				<div class="d-flex flex-column flex-lg-row-auto b-c-g w-xl-600px positon-xl-relative">
					<!--begin::Wrapper-->
					<div class="d-flex flex-column divsingn top-0 bottom-0 w-xl-600px scroll-y">
						<!--begin::Header-->
						<div class="d-flex flex-row-fluid divsingn_new flex-column text-center ">
							<!--begin::Logo-->
						
							<!--end::Logo-->
							<!--begin::Title-->
                            <div class="welsinup">
                                <div class="welsinup_div">
							<h1 class="d-none d-lg-block fw-bold text-white fs-2qx pb-5 pb-md-2">Welcome to Social AI</h1>
							<!--end::Title-->
							<!--begin::Description-->
							<p class="d-none d-lg-block fw-semibold fs-2 text-white">Plan your blog post by choosing a topic creating
							<br />an outline and checking facts</p>
							<!--end::Description-->
                        </div>
                    </div>
						</div>
						<!--end::Header-->
						<!--begin::Illustration-->
						<div class="d-none d-lg-block d-flex flex-row-auto bgi-no-repeat bgi-position-x-center bgi-size-contain bgi-position-y-bottom min-h-100px min-h-lg-350px" style="background-image: url(assets/media/illustrations/sketchy-1/17.png)"></div>
						<!--end::Illustration-->
					</div>
					<!--end::Wrapper-->
				</div>
				<!--begin::Aside-->
				<!--begin::Body-->
				<div class="d-flex flex-column flex-lg-row-fluid py-10">
					<!--begin::Content-->
					<div class="d-flex flex-center flex-column flex-column-fluid">
						<!--begin::Wrapper-->
						<div class="w-lg-600px p-10 p-lg-15 mx-auto">
							<!--begin::Form-->
							<form class="form w-100" id="registrationForm">
        {% csrf_token %}
        <!--begin::Heading-->
        <div class="mb-10 text-center">
            <!--begin::Title-->
            <h1 class="text-dark mb-3">Create an Account</h1>
            <!--end::Title-->
            <!--begin::Link-->
            <div class="text-gray-400 fw-semibold fs-4">Already have an account?
                <a href="{% url 'login' %}" class="link-primary fw-bold">Sign in here</a>
            </div>
            <!--end::Link-->
        </div>

        <!--begin::Input group-->
        <div class="row fv-row mb-7">
            <!--begin::Col-->
            <div class="col-xl-6 mb-7">
                <label class="form-label fw-bold text-dark fs-6">Username</label>
                <input class="form-control form-control-lg form-control-solid" type="text" placeholder="" name="username" />
                <span class="validation-message" id="usernameValidation"></span>
            </div>
            <!--end::Col-->

            <!--begin::Col-->
            <div class="col-xl-6 mb-7">
                <label class="form-label fw-bold text-dark fs-6">First Name</label>
                <input class="form-control form-control-lg form-control-solid" type="text" placeholder="" name="first_name" />
                <span class="validation-message" id="firstNameValidation"></span>
            </div>
            <!--end::Col-->

            <!--begin::Col-->
            <div class="col-xl-6">
                <label class="form-label fw-bold text-dark fs-6">Last Name</label>
                <input class="form-control form-control-lg form-control-solid" type="text" placeholder="" name="last_name" />
                <span class="validation-message" id="lastNameValidation"></span>
            </div>
            <!--end::Col-->
        </div>
        <!--end::Input group-->

        <!--begin::Input group-->
        <div class="fv-row mb-7">
            <label class="form-label fw-bold text-dark fs-6">Email</label>
            <input class="form-control form-control-lg form-control-solid" type="email" placeholder="" name="email" />
            <span class="validation-message" id="emailValidation"></span>
        </div>
        <!--end::Input group-->

        <!--begin::Input group-->
        <div class="mb-10 fv-row" data-kt-password-meter="true">
            <!--begin::Wrapper-->
            <div class="mb-1">
                <!--begin::Label-->
                <label class="form-label fw-bold text-dark fs-6">Password</label>
                <!--end::Label-->
                <!--begin::Input wrapper-->
                <div class="position-relative mb-3">
                    <input class="form-control form-control-lg form-control-solid" type="password" placeholder="" name="password" />
                    <span class="btn btn-sm btn-icon position-absolute translate-middle top-50 end-0 me-n2" data-kt-password-meter-control="visibility">
                        <i class="ki-duotone ki-eye-slash fs-2"></i>
                        <i class="ki-duotone ki-eye fs-2 d-none"></i>
                    </span>
                </div>
				<span class="validation-message" id="passwordValidation"></span>
                <!--end::Input wrapper-->
                <!--begin::Meter-->
                <div class="d-flex align-items-center mb-3" data-kt-password-meter-control="highlight">
                    <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"></div>
                    <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"></div>
                    <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"></div>
                    <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px"></div>
                </div>
                <!--end::Meter-->
            </div>
            <!--end::Wrapper-->
            <!--begin::Hint-->
            <div class="text-muted">Use 8 or more characters with a mix of letters, numbers & symbols.</div>
            <!--end::Hint-->
        </div>
        <!--end::Input group=-->

        <!--begin::Input group-->
        <div class="fv-row mb-5">
            <label class="form-label fw-bold text-dark fs-6">Confirm Password</label>
            <input class="form-control form-control-lg form-control-solid" type="password" placeholder="" name="confirm-password" />
            <span class="validation-message" id="confirmPasswordValidation"></span>
        </div>
        <!--end::Input group-->

        <!--begin::Input group-->
        <div class="fv-row mb-10">
            <label class="form-check form-check-custom form-check-solid form-check-inline">
                <input class="form-check-input" type="checkbox" name="toc" value="1" />
                <span class="form-check-label fw-semibold text-gray-700 fs-6">I Agree
                    <a href="#" class="ms-1 link-primary">Terms and conditions</a>.
                </span>
            </label>
            <span class="validation-message" id="tocValidation"></span>
        </div>
        <!--end::Input group-->

        <!--begin::Actions-->
        <div class="text-center">
            <button type="button" id="submitBtn" class="btn btn-lg btn-primary">
                <span class="indicator-label">Submit</span>
                <span class="indicator-progress">Please wait...
                    <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                </span>
            </button>
        </div>
        <!--end::Actions-->
    </form>
							<!--end::Form-->
						</div>
						<!--end::Wrapper-->
					</div>
					<!--end::Content-->
					<!--begin::Footer-->
					<div class="d-flex flex-center flex-wrap fs-6 p-5 pb-0">
						<!--begin::Links-->
						<div class="d-flex flex-center fw-semibold fs-6">
							<a href="https://keenthemes.com" class="text-muted text-hover-primary px-2" target="_blank">About</a>
							<a href="https://devs.keenthemes.com" class="text-muted text-hover-primary px-2" target="_blank">Support</a>
							<a href="https://keenthemes.com/products/saul-html-pro" class="text-muted text-hover-primary px-2" target="_blank">Purchase</a>
						</div>
						<!--end::Links-->
					</div>
					<!--end::Footer-->
				</div>
				<!--end::Body-->
			</div>
			<!--end::Authentication - Sign-up-->
		</div>
		<!--end::Root-->
		<!--begin::Javascript-->
		<script>var hostUrl = "assets/";</script>
		<!--begin::Global Javascript Bundle(mandatory for all pages)-->
		<script src={% static "assets/plugins/global/plugins.bundle.js" %}></script>
		<script src={% static "assets/js/scripts.bundle.js" %}></script>
		<!--end::Global Javascript Bundle-->
		<!--begin::Custom Javascript(used for this page only)-->
		<script src={% static "assets/js/custom/authentication/sign-up/general.js" %}></script>
		<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
        <script>
    $(document).ready(function () {
        $("#submitBtn").click(function () {
            // Clear previous validation messages
            $(".validation-message").text("");
            // Perform client-side validation
            var username = $("input[name='username']").val();
            var firstName = $("input[name='first_name']").val();
            var lastName = $("input[name='last_name']").val();
            var email = $("input[name='email']").val();
            var password = $("input[name='password']").val();
            var confirmPassword = $("input[name='confirm-password']").val();
            var toc = $("input[name='toc']").prop("checked");
            var errors = [];

            if (!username) {
                errors.push("Username is required");
                $("#usernameValidation").text("Username is required");
            }

            if (!firstName) {
                errors.push("First Name is required");
                $("#firstNameValidation").text("First Name is required");
            }

            if (!lastName) {
                errors.push("Last Name is required");
                $("#lastNameValidation").text("Last Name is required");
            }

            if (!email) {
                errors.push("Email is required");
                $("#emailValidation").text("Email is required");
            }

            if (!password) {
                errors.push("Password is required");
                $("#passwordValidation").text("Password is required");
            }

        

            if (!password.length > 7) {
                errors.push("Password should  be more than 8 characters");
                $("#passwordValidation").text("Password should not be more than 8 characters");
            }

            

            if (password !== confirmPassword) {
                errors.push("Passwords do not match");
                $("#confirmPasswordValidation").text("Passwords do not match");
            }

            if (!toc) {
                errors.push("You must agree to the terms and conditions");
                $("#tocValidation").text("You must agree to the terms and conditions");
            }

            // Display all errors together
            if (errors.length > 0) {
                // Show a SweetAlert error popup with OK button
                var errorList = $("<ul>");

                errors.forEach(function (error) {
                    errorList.append($("<li>").text(error));
                });
                Swal.fire({
                            icon: 'error',
                            title: 'Sorry,looks like there are some errors detected, please try again!',
							showConfirmButton: true,
                            confirmButtonText: 'OK,got it!',
                        });
                return;  // Stop form submission if there are errors
            }

            // Get form data
            var formData = $("#registrationForm").serialize();

            // Ajax request
            $.ajax({
                type: "POST",
                url: "{% url 'signup' %}", // Replace with your server endpoint
                data: formData,
                success: function (response) {
    
    // Check if the API response is true
    if (response.icon === true) { // Use strict comparison (===) to check for true
        // Show a SweetAlert success popup
        Swal.fire({
            icon: 'error',
            title: response.message,
            showConfirmButton: false,
            timer: 1500
        });
     
    } else {
        Swal.fire({
            icon: 'success',
            title: 'Signup successful. You can now login.',
            showConfirmButton: false,
            timer: 1500
        });
           // Optionally, you can redirect the user or perform other actions
           setTimeout(() => {
            window.location.href = "/login"; // Example: Redirect to the login page
        }, 1500);
        // Show a SweetAlert error popup
       
    }
}

            });
        });

        // Add event listeners to clear validation messages on input
        $("input[name='username']").on('input', function () {
            $("#usernameValidation").text("");
        });

        $("input[name='first_name']").on('input', function () {
            $("#firstNameValidation").text("");
        });

        $("input[name='last_name']").on('input', function () {
            $("#lastNameValidation").text("");
        });

        $("input[name='email']").on('input', function () {
            $("#emailValidation").text("");
        });

        $("input[name='password']").on('input', function () {
            $("#passwordValidation").text("");
        });

        $("input[name='confirm-password']").on('input', function () {
            $("#confirmPasswordValidation").text("");
        });

        $("input[name='toc']").on('input', function () {
            $("#tocValidation").text("");
        });
    });
</script>


		<!--end::Custom Javascript-->
		<!--end::Javascript-->
	</body>
	<!--end::Body-->
</html>